<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>经典系列 - Splurge Vision</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, #C9A9A8 0%, #9BA89C 50%, #B5A69B 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .product-page {
      max-width: 1200px;
      margin: 0 auto;
      background: rgba(255,255,255,0.95);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0,0,0,0.2);
    }
    
    .product-header {
      background: linear-gradient(135deg, rgba(201, 169, 168, 0.8) 0%, rgba(155, 168, 156, 0.8) 100%);
      padding: 30px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .header-left {
      flex: 1;
    }
    
    .header-right {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    
    .lang-switch {
      background: rgba(255,255,255,0.3);
      border: 2px solid #6B7B6D;
      color: #6B7B6D;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      font-size: 0.9rem;
    }
    
    .lang-switch:hover {
      background: #6B7B6D;
      color: white;
    }
    
    .lang-switch.active {
      background: #6B7B6D;
      color: white;
    }
    
    .product-title h1 {
      font-size: 2.5rem;
      color: #6B7B6D;
      font-family: 'Poppins', sans-serif;
      font-weight: 800;
      letter-spacing: 2px;
      margin-bottom: 10px;
    }
    
    .product-title p {
      color: #8B9B8D;
      font-size: 1.1rem;
    }
    
    .back-btn {
      background: rgba(255,255,255,0.3);
      border: 2px solid #6B7B6D;
      color: #6B7B6D;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      text-decoration: none;
      display: inline-block;
    }
    
    .back-btn:hover {
      background: #6B7B6D;
      color: white;
    }
    
    /* 客服功能 */
    .customer-service {
      position: fixed;
      bottom: 30px;
      left: 30px;
      font-family: 'Montserrat', sans-serif;
      z-index: 999;
    }
    
    .service-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, #C9A9A8 0%, #B5A69B 100%);
      border: none;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(201, 169, 168, 0.4);
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: white;
    }
    
    .service-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 16px rgba(201, 169, 168, 0.5);
    }
    
    .service-panel {
      position: absolute;
      bottom: 80px;
      left: 0;
      background: white;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.15);
      width: 300px;
      max-height: 400px;
      overflow-y: auto;
      display: none;
      z-index: 1000;
    }
    
    .service-panel.active {
      display: flex;
      flex-direction: column;
    }
    
    .service-header {
      background: linear-gradient(135deg, #C9A9A8 0%, #B5A69B 100%);
      color: white;
      padding: 15px;
      font-weight: 700;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-radius: 12px 12px 0 0;
    }
    
    .service-close {
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .service-close:hover {
      transform: rotate(90deg);
    }
    
    .service-content {
      padding: 20px;
    }
    
    .service-item {
      margin-bottom: 15px;
      padding-bottom: 15px;
      border-bottom: 1px solid #f0f0f0;
    }
    
    .service-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }
    
    .service-label {
      font-weight: 600;
      color: #6B7B6D;
      font-size: 0.9rem;
      margin-bottom: 6px;
    }
    
    .service-value {
      color: #8B9B8D;
      font-size: 0.85rem;
      word-break: break-all;
    }
    
    .service-btn-group {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }
    
    .service-action {
      flex: 1;
      padding: 10px;
      border: 1px solid #C9A9A8;
      background: white;
      color: #C9A9A8;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.85rem;
      transition: all 0.2s;
    }
    
    .service-action:hover {
      background: #C9A9A8;
      color: white;
    }

    
    .product-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      padding: 40px;
    }
    
    .product-image {
      text-align: center;
    }
    
    .product-image img {
      width: 100%;
      max-width: 400px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    .product-info h2 {
      color: #6B7B6D;
      font-size: 1.8rem;
      margin-bottom: 15px;
      font-weight: 800;
      font-family: 'Poppins', sans-serif;
    }
    
    .product-price {
      font-size: 2.2rem;
      color: #C9A9A8;
      font-weight: 800;
      margin: 20px 0;
    }
    
    .product-description {
      color: #8B9B8D;
      line-height: 1.8;
      margin-bottom: 30px;
      font-size: 1rem;
    }
    
    .product-form {
      background: rgba(201, 169, 168, 0.1);
      padding: 25px;
      border-radius: 12px;
      margin-top: 30px;
    }
    
    .form-group {
      margin-bottom: 18px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #6B7B6D;
      font-size: 0.95rem;
    }
    
    .form-group input,
    .form-group select {
      width: 100%;
      padding: 12px;
      border: 1px solid rgba(107, 123, 109, 0.3);
      border-radius: 8px;
      font-family: 'Montserrat', sans-serif;
      font-size: 0.95rem;
      color: #6B7B6D;
    }
    
    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: #C9A9A8;
      background: rgba(255,255,255,0.5);
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    
    .payment-methods {
      margin-top: 25px;
      padding-top: 20px;
      border-top: 1px solid rgba(107, 123, 109, 0.2);
    }
    
    .payment-methods label {
      display: block;
      margin-bottom: 12px;
      font-weight: 600;
      color: #6B7B6D;
      font-size: 0.95rem;
    }
    
    .payment-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .payment-option {
      position: relative;
    }
    
    .payment-option input[type="radio"] {
      display: none;
    }
    
    .payment-option label {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px;
      border: 2px solid rgba(107, 123, 109, 0.3);
      border-radius: 8px;
      background: rgba(255,255,255,0.3);
      cursor: pointer;
      transition: all 0.2s;
      margin: 0;
      font-size: 0.9rem;
      min-height: 50px;
    }
    
    .payment-option input[type="radio"]:checked + label {
      background: #C9A9A8;
      color: white;
      border-color: #C9A9A8;
      font-weight: 700;
    }
    
    .payment-option label:hover {
      border-color: #C9A9A8;
    }
    
    .product-actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-top: 25px;
    }
    
    .btn-cart,
    .btn-buy {
      padding: 14px 24px;
      border: none;
      border-radius: 8px;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s;
      font-family: 'Montserrat', sans-serif;
    }
    
    .btn-cart {
      background: rgba(201, 169, 168, 0.5);
      color: #6B7B6D;
      border: 2px solid #C9A9A8;
    }
    
    .btn-cart:hover {
      background: #C9A9A8;
      color: white;
      transform: translateY(-2px);
    }
    
    .btn-buy {
      background: linear-gradient(135deg, #C9A9A8 0%, #B5A69B 100%);
      color: white;
      box-shadow: 0 4px 12px rgba(201, 169, 168, 0.4);
    }
    
    .btn-buy:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(201, 169, 168, 0.5);
    }
    
    /* ===== 响应式设计 ===== */
    /* iPad / 平板 */
    @media (max-width: 1024px) {
      body {
        padding: 15px;
      }
      .product-content {
        gap: 25px;
        padding: 30px;
      }
      .product-title h1 {
        font-size: 2rem;
      }
      .product-price {
        font-size: 1.8rem;
      }
    }
    
    @media (max-width: 768px) {
      body {
        padding: 10px;
      }
      .product-page {
        border-radius: 14px;
      }
      .product-content {
        grid-template-columns: 1fr;
        padding: 20px;
        gap: 20px;
      }
      .product-header {
        flex-direction: column;
        gap: 15px;
        padding: 20px;
      }
      .header-right {
        flex-wrap: wrap;
        justify-content: center;
      }
      .product-title h1 {
        font-size: 1.5rem;
        text-align: center;
      }
      .product-title p {
        text-align: center;
        font-size: 0.9rem;
      }
      .product-info h2 {
        font-size: 1.4rem;
      }
      .product-price {
        font-size: 1.6rem;
        margin: 15px 0;
      }
      .product-description {
        font-size: 0.9rem;
      }
      .form-row {
        grid-template-columns: 1fr;
      }
      .product-form {
        padding: 18px;
      }
      .form-group label {
        font-size: 0.85rem;
      }
      .form-group input,
      .form-group select {
        padding: 10px;
        font-size: 0.9rem;
      }
      .payment-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      .product-actions {
        grid-template-columns: 1fr;
        gap: 10px;
      }
      .btn-cart, .btn-buy {
        padding: 12px 20px;
        font-size: 0.95rem;
      }
      .customer-service {
        bottom: 15px;
        left: 15px;
      }
      .service-btn {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
      }
      .service-panel {
        width: 260px;
        bottom: 65px;
      }
      .lang-switch {
        padding: 8px 12px;
        font-size: 0.8rem;
      }
      .back-btn {
        padding: 8px 14px;
        font-size: 0.85rem;
      }
    }
    
    /* 小屏手机 */
    @media (max-width: 480px) {
      .product-header {
        padding: 15px;
      }
      .product-title h1 {
        font-size: 1.3rem;
        letter-spacing: 1px;
      }
      .product-content {
        padding: 15px;
      }
      .payment-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
      }
      .payment-option label {
        padding: 8px;
        font-size: 0.8rem;
        min-height: 42px;
      }
    }
  </style>
</head>
<body>
  <div class="product-page">
    <div class="product-header">
      <div class="header-left">
        <div class="product-title">
          <h1 id="pageTitle">经典系列</h1>
          <p id="pageSubtitle">Classic Collection - 经典不必张扬，它只是在时间里站得住。</p>
        </div>
      </div>
      <div class="header-right">
        <a href="cart.html" style="color: #6B7B6D; text-decoration: none; font-weight: 600; font-size: 0.9rem; padding: 6px 12px; border-radius: 6px; transition: all 0.2s; border: 1px solid rgba(107,123,109,0.3);">🛒 购物车</a>
        <button class="lang-switch active" id="langZh" onclick="switchLanguage('zh')">中文</button>
        <button class="lang-switch" id="langEn" onclick="switchLanguage('en')">English</button>
        <a href="index.html" class="back-btn" id="backBtn">← 返回</a>
      </div>
    </div>
    
    <div class="product-content">
      <div class="product-image">
        <div style="position: relative; width: 100%;">
          <img id="mainImage" src="classic-detail.jpg" alt="经典系列眼镜" style="width: 100%; border-radius: 12px; display: block; transition: opacity 0.3s ease;">
          
          <!-- 款式选择标签 -->
          <div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 20px 0; border-bottom: 2px solid rgba(107, 123, 109, 0.2); padding-bottom: 10px;">
            <button onclick="switchStyle('brown')" id="styleBrown" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #9BA89C 0%, #8B9A8C 100%); color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: transform 0.2s;">
              棕色框款式
            </button>
            <button onclick="switchStyle('frameless')" id="styleFrameless" style="flex: 1; padding: 12px; background: rgba(155, 168, 156, 0.2); color: #6B7B6D; border: 2px solid #9BA89C; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.2s;">
              无框款式
            </button>
            <button onclick="switchStyle('orange')" id="styleOrange" style="flex: 1; padding: 12px; background: rgba(155, 168, 156, 0.2); color: #6B7B6D; border: 2px solid #9BA89C; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.2s;">
              橙色腿款式
            </button>
          </div>
          
          <!-- 棕色框款式图片 -->
          <div id="brownGallery" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 10px;">
            <img src="classic-detail.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid #9BA89C; transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
            <img src="1fe97165f10e7d5c73e363ec9316575c.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#9BA89C'" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='transparent'">
            <img src="2e5b5f15c17cedda6965b0a0382b4075.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#9BA89C'" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='transparent'">
            <img src="9c8edfd02cba752805f01135216ae1fe.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#9BA89C'" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='transparent'">
          </div>
          
          <!-- 无框款式图片 -->
          <div id="framelessGallery" style="display: none; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 10px;">
            <img src="2ca4b493b8335ce4147546c5855b46f9.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid #9BA89C; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
            <img src="586dd1115688512e3caadf1e0e7791c2.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#9BA89C'" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='transparent'">
            <img src="b71ed3ebad9d4c49871e3878bbc4fd69.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#9BA89C'" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='transparent'">
            <img src="e6d3590e7b5dd6e0530adb84f6833666.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#9BA89C'" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='transparent'">
          </div>
          
          <!-- 橙色腿款式图片 -->
          <div id="orangeGallery" style="display: none; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 10px;">
            <img src="6f5eb4fea81731062d3e3fd470374eb8.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid #9BA89C; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
            <img src="8f191594af9e87aaf55db9465389a0f5.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#9BA89C'" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='transparent'">
            <img src="a7fee6e17ea0575700cf85f4a2de827b.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#9BA89C'" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='transparent'">
            <img src="c59472bf1a69051fd8d632d93d5dba6c.jpg" onclick="changeMainImage(this.src)" style="width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#9BA89C'" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='transparent'">
          </div>
        </div>
      </div>
      
      <div class="product-info">
        <h2 id="productName">经典系列眼镜</h2>
        <div class="product-price">¥999</div>
        
        <div class="product-description">
          <p id="desc1">经典的执著和考量<br><br></p>
          <p id="desc2">我们的经典系列眼镜采用高质量的醋酸纤维材料，完美融合传统工艺与现代设计。每一副眼镜都经过精心打磨，确保最舒适的佩戴体验。</p>
          <p style="margin-top: 15px;" id="featuresList">✓ 高质量醋酸纤维材料<br>
          ✓ 手工打磨工艺<br>
          ✓ 舒适度最优化<br>
          ✓ 经久耐用</p>
        </div>
        
        <div class="product-form">
          <div class="form-group">
            <label id="labelName">姓名 *</label>
            <input type="text" id="customerName" placeholder="请输入姓名" required>
          </div>
          
          <div class="form-group">
            <label id="labelPhone">电话 *</label>
            <input type="tel" id="customerPhone" placeholder="请输入电话号码" required>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label id="labelCountry">国家 *</label>
              <select id="customerCountry" onchange="updateProvinces()" required>
                <option value="">-- 选择国家 --</option>
                <option value="China">中国</option>
                <option value="香港">香港</option>
                <option value="澳门">澳门</option>
                <option value="台湾">台湾</option>
                <option value="韩国">韩国</option>
                <option value="日本">日本</option>
              </select>
            </div>
            
            <div class="form-group">
              <label id="labelProvince">省份 *</label>
              <select id="customerProvince" onchange="updateCities()" required>
                <option value="">-- 请先选择国家 --</option>
              </select>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label id="labelCity">城市 *</label>
              <select id="customerCity" onchange="updateDistricts()" required>
                <option value="">-- 请先选择省份 --</option>
              </select>
            </div>
            
            <div class="form-group">
              <label id="labelDistrict">区县 *</label>
              <select id="customerDistrict" required>
                <option value="">-- 请先选择城市 --</option>
              </select>
            </div>
          </div>
          
          <div class="form-group">
            <label id="labelStreet">街道地址 *</label>
            <input type="text" id="customerStreet" placeholder="请输入详细街道地址" required>
          </div>
          
          <div class="form-group">
            <label id="labelPostal">邮编</label>
            <input type="text" id="customerPostal" placeholder="请输入邮编代码">
          </div>
          
          <div class="payment-methods">
            <label id="labelPayment">付款方式 *</label>
            <div class="payment-grid">
              <div class="payment-option">
                <input type="radio" id="payment-wechat" name="payment" value="wechat" required>
                <label for="payment-wechat">💚 微信支付</label>
              </div>
              <div class="payment-option">
                <input type="radio" id="payment-alipay" name="payment" value="alipay">
                <label for="payment-alipay">🔵 支付宝</label>
              </div>
              <div class="payment-option">
                <input type="radio" id="payment-credit" name="payment" value="credit">
                <label for="payment-credit">💳 信用卡</label>
              </div>
              <div class="payment-option">
                <input type="radio" id="payment-debit" name="payment" value="debit">
                <label for="payment-debit">🏦 储蓄卡</label>
              </div>
              <div class="payment-option">
                <input type="radio" id="payment-paypal" name="payment" value="paypal">
                <label for="payment-paypal">🅿️ PayPal</label>
              </div>
            </div>
          </div>
          
          <div class="product-actions">
            <button class="btn-cart" onclick="addToCart()" id="btnCart">♥ 加入购物车</button>
            <button class="btn-buy" onclick="checkout()" id="btnBuy">立即购买</button>
          </div>
          
          <!-- 虚拟试戴功能暂时隐藏，后续优化后恢复 -->
        </div>
      </div>
    </div>
  </div>

  <!-- 客服功能 -->
  <div class="customer-service">
    <div class="service-panel" id="servicePanel">
      <div class="service-header">
        <span id="serviceTitle">客服中心</span>
        <button class="service-close" onclick="toggleServicePanel()">✕</button>
      </div>
      <div class="service-content">
        <div class="service-item">
          <div class="service-label" id="serviceHourLabel">营业时间</div>
          <div class="service-value" id="serviceHour">周一至周五 09:00-18:00<br>周六日 10:00-16:00</div>
        </div>
        <div class="service-item">
          <div class="service-label" id="serviceWechatLabel">微信客服</div>
          <div class="service-value" id="serviceWechat">SplurgeVision_Service</div>
        </div>
        <div class="service-item">
          <div class="service-label" id="serviceQQLabel">QQ客服</div>
          <div class="service-value" id="serviceQQ">800-888-6666</div>
        </div>
        <div class="service-item">
          <div class="service-label" id="serviceEmailLabel">邮箱</div>
          <div class="service-value" id="serviceEmail">service@splurgevision.com</div>
        </div>
        <div class="service-btn-group">
          <button class="service-action" id="serviceCallBtn" onclick="initiateContact('wechat')">💬 微信</button>
          <button class="service-action" id="serviceEmailBtn" onclick="initiateContact('email')">✉️ 邮件</button>
        </div>
      </div>
    </div>
    <button class="service-btn" id="serviceBtn" onclick="toggleServicePanel()">🎧</button>
  </div>

  <script>
    // 地址数据库 - 完整的中国省份和主要城市
    const addressData = {
      China: {
        '北京': {
          '北京市': ['东城区', '西城区', '朝阳区', '丰台区', '石景山区', '海淀区', '门头沟区', '房山区', '通州区', '顺义区', '昌平区', '大兴区', '平谷区', '怀柔区', '密云区', '延庆区']
        },
        '上海': {
          '上海市': ['黄浦区', '徐汇区', '长宁区', '静安区', '普陀区', '虹口区', '杨浦区', '浦东新区', '闵行区', '宝山区', '嘉定区', '金山区', '松江区', '青浦区', '奉贤区', '崇明区']
        },
        '广东': {
          '广州': ['越秀区', '荔湾区', '海珠区', '天河区', '白云区', '黄埔区', '花都区', '增城区', '从化区'],
          '深圳': ['罗湖区', '福田区', '南山区', '宝安区', '龙岗区', '龙华区', '坪山区', '光明区', '大鹏新区', '盐田区'],
          '佛山': ['禅城区', '南海区', '顺德区', '三水区', '高明区'],
          '东莞': ['莞城街道', '南城街道', '万江街道', '东城街道', '常平镇', '长安镇', '虎门镇', '厚街镇', '横沥镇'],
          '珠海': ['香洲区', '斗门区', '金湾区'],
          '中山': ['石岐区', '东区', '西区', '南区', '北区', '火炬开发区', '小榄镇']
        },
        '浙江': {
          '杭州': ['上城区', '下城区', '江干区', '拱墅区', '西湖区', '滨江区', '萧山区', '余杭区', '富阳区', '临安区'],
          '宁波': ['海曙区', '江东区', '江北区', '镇海区', '北仑区', '鄞州区', '奉化区'],
          '温州': ['鹿城区', '龙湾区', '瓯海区', '洞头区', '永嘉县', '平阳县', '苍南县'],
          '嘉兴': ['南湖区', '秀洲区', '嘉善县', '平湖市', '海宁市', '桐乡市'],
          '湖州': ['吴兴区', '南浔区', '德清县', '长兴县', '安吉县'],
          '绍兴': ['越城区', '柯桥区', '上虞区', '诸暨市', '嵊州市']
        },
        '江苏': {
          '南京': ['玄武区', '秦淮区', '建邺区', '鼓楼区', '浦口区', '栖霞区', '雨花台区', '江宁区', '江北新区'],
          '苏州': ['姑苏区', '吴中区', '相城区', '工业园区', '高新区', '常熟市', '张家港市', '昆山市', '太仓市'],
          '南通': ['崇川区', '港闸区', '通州区', '如皋市', '如东县', '海安县', '启东市'],
          '常州': ['天宁区', '钟楼区', '新北区', '武进区', '溧阳市', '金坛市'],
          '无锡': ['梁溪区', '新吴区', '惠山区', '滨湖区', '江阴市', '宜兴市'],
          '徐州': ['鼓楼区', '云龙区', '贾汪区', '泉山区', '铜山区', '丰县', '沛县', '睢宁县'],
          '扬州': ['广陵区', '邗江区', '江都区', '宝应县', '高邮市']
        },
        '山东': {
          '济南': ['历下区', '市中区', '槐荫区', '天桥区', '历城区', '长清区', '章丘区'],
          '青岛': ['市南区', '市北区', '黄岛区', '崂山区', '李沧区', '城阳区', '即墨区'],
          '烟台': ['芝罘区', '福山区', '牟平区', '莱山区', '长岛县', '龙口市', '莱阳市', '莱州市', '蓬莱市'],
          '济宁': ['任城区', '兖州区', '微山县', '鱼台县', '金乡县', '嘉祥县', '汶上县'],
          '潍坊': ['奎文区', '潍城区', '坊子区', '寒亭区', '高密市', '昌邑市', '青州市', '诸城市']
        },
        '河南': {
          '郑州': ['中原区', '二七区', '管城回族区', '金水区', '上街区', '惠济区', '郑东新区', '经开区', '高新区'],
          '洛阳': ['洛龙区', '涧西区', '西工区', '老城区', '孟津县', '新安县', '栾川县', '嵩县'],
          '开封': ['龙亭区', '顺河回族区', '鼓楼区', '禹王台区', '杞县', '通许县', '尉氏县'],
          '平顶山': ['湛河区', '新华区', '石龙区', '舞钢市', '叶县', '宝丰县', '郏县'],
          '安阳': ['北关区', '文峰区', '龙安区', '安阳县', '滑县', '内黄县']
        },
        '四川': {
          '成都': ['锦江区', '青羊区', '金牛区', '武侯区', '成华区', '龙泉驿区', '青白江区', '新都区', '温江区', '高新区'],
          '绵阳': ['涪城区', '游仙区', '安州区', '三台县', '盐亭县', '梓潼县', '北川羌族自治县'],
          '自贡': ['自流井区', '贡井区', '大安区', '沿滩区', '荣县', '富顺县'],
          '攀枝花': ['东区', '西区', '仁和区', '米易县', '盐边县'],
          '泸州': ['江阳区', '纳溪区', '龙马潭区', '泸县', '合江县', '叙永县']
        },
        '湖北': {
          '武汉': ['江岸区', '江汉区', '硚口区', '汉阳区', '武昌区', '青山区', '洪山区', '东西湖区', '汉南区', '黄陂区', '新洲区'],
          '黄石': ['黄石港区', '西塞山区', '下陆区', '铁山区', '阳新县', '大冶市'],
          '十堰': ['茅箭区', '张湾区', '郧阳区', '郧西县', '竹山县', '竹溪县', '房县'],
          '宜昌': ['西陵区', '伍家岗区', '点军区', '猇亭区', '夷陵区', '宜都市', '当阳市', '枝江市']
        },
        '湖南': {
          '长沙': ['芙蓉区', '天心区', '岳麓区', '开福区', '雨花区', '望城区', '长沙县'],
          '株洲': ['荷塘区', '芦淞区', '石峰区', '天元区', '攸县', '茶陵县', '炎陵县'],
          '湘潭': ['雨湖区', '岳塘区', '湘潭县'],
          '衡阳': ['珠晖区', '雁峰区', '石鼓区', '蒸湘区', '南岳区', '衡阳县', '衡南县', '衡山县'],
          '邵阳': ['双清区', '大祥区', '北塔区', '邵东市', '新邵县', '邵阳县', '隆回县', '洞口县', '绥宁县', '新宁县']
        },
        '重庆': {
          '重庆市': ['渝中区', '大渡口区', '江北区', '南岸区', '北碚区', '渝北区', '巴南区', '长寿区', '江津区', '合川区', '永川区', '南川区', '綦江区', '大足区', '铜梁区', '荣昌区', '璧山区', '梁平区', '城口县', '丰都县', '垫江县', '忠县', '石柱土家族自治县', '秀山土家族苗族自治县', '酉阳土家族苗族自治县', '彭水苗族土家族自治县']
        },
        '云南': {
          '昆明': ['五华区', '盘龙区', '官渡区', '西山区', '呈贡区', '东川区', '晋宁区'],
          '曲靖': ['麒麟区', '沾益区', '宣威市', '会泽县', '富源县', '罗平县', '师宗县'],
          '保山': ['隆阳区', '施甸县', '腾冲市', '龙陵县', '昌宁县'],
          '昭通': ['昭阳区', '鲁甸县', '巧家县', '盐津县', '大关县', '永善县', '绥江县', '镇雄县', '彝良县']
        },
        '贵州': {
          '贵阳': ['云岩区', '南明区', '花溪区', '乌当区', '白云区', '观山湖区', '清镇市'],
          '遵义': ['红花岗区', '汇川区', '仁怀市', '赤水市', '遵义县', '桐梓县', '绥阳县', '正安县', '余庆县', '湄潭县'],
          '毕节': ['七星关区', '大方县', '黔西县', '金沙县', '织金县', '纳雍县', '威宁彝族回族苗族自治县'],
          '铜仁': ['碧江区', '万山区', '江口县', '玉屏侗族自治县', '石阡县', '思南县', '印江土家族苗族自治县', '松桃苗族自治县', '德江县']
        },
        '安徽': {
          '合肥': ['瑶海区', '庐阳区', '蜀山区', '包河区', '长丰县', '肥东县', '肥西县'],
          '芜湖': ['镜湖区', '弋江区', '鸠江区', '三山区', '芜湖县', '繁昌区', '南陵县'],
          '蚌埠': ['龙子湖区', '蜀山区', '禹会区', '五河县', '固镇县', '怀远县'],
          '淮南': ['八公山区', '潘集区', '大通区', '谢家集区', '凤台县'],
          '马鞍山': ['花山区', '雨山区', '当涂县', '含山县', '和县']
        },
        '福建': {
          '福州': ['鼓楼区', '台江区', '仓山区', '马尾区', '晋安区', '福清市', '长乐区'],
          '厦门': ['思明区', '湖里区', '集美区', '同安区', '翔安区'],
          '莆田': ['城厢区', '涵江区', '荔城区', '秀屿区', '仙游县'],
          '三明': ['梅列区', '三元区', '宁化县', '清流县', '泰宁县', '建宁县', '永安市', '明溪县', '将乐县'],
          '泉州': ['鲤城区', '丰泽区', '洛江区', '石狮市', '晋江市', '南安市', '永春县', '德化县', '安溪县', '惠安县']
        },
        '江西': {
          '南昌': ['东湖区', '西湖区', '青云谱区', '青山湖区', '新建区', '南昌县'],
          '景德镇': ['昌江区', '珠山区', '浮梁县', '乐平市'],
          '萍乡': ['安源区', '湘东区', '莲花县', '上栗县', '芦溪县'],
          '九江': ['庐山区', '浔阳区', '九江县', '武宁县', '修水县', '永修县', '德安县', '都昌县', '湖口县', '彭泽县', '瑞昌市'],
          '新余': ['渝水区', '分宜县']
        },
        '山西': {
          '太原': ['小店区', '迎泽区', '杏花岭区', '尖草坪区', '万柏林区', '晋源区', '清徐县', '阳曲县', '娄烦县', '古交市'],
          '大同': ['平城区', '云州区', '新荣区', '阳高县', '天镇县', '广灵县', '浑源县', '左云县'],
          '阳泉': ['城区', '矿区', '郊区', '盂县'],
          '长治': ['潞州区', '上党区', '屯留区', '襄垣县', '平顺县', '黎城县', '壶关县', '长治县', '沁县', '沁源县']
        },
        '陕西': {
          '西安': ['新城区', '碑林区', '莲湖区', '灞桥区', '未央区', '雁塔区', '阎良区', '临潼区', '长安区', '蓝田县', '周至县'],
          '宝鸡': ['渭滨区', '金台区', '陈仓区', '凤翔县', '岐山县', '周至县', '眉县', '陇县', '千阳县', '麟游县'],
          '咸阳': ['秦都区', '渭城区', '兴平市', '三原县', '泾阳县', '乾县', '礼泉县', '永寿县', '彬县', '长武县', '旬邑县', '淳化县'],
          '渭南': ['临渭区', '华州区', '潼关县', '大荔县', '合阳县', '澄城县', '白水县', '蒲城县', '富平县', '韩城市', '华阴市']
        },
        '甘肃': {
          '兰州': ['城关区', '七里河区', '西固区', '红古区', '永登县', '皋兰县', '榆中县'],
          '金昌': ['金川区', '永昌县'],
          '白银': ['白银区', '平川区', '靖远县', '会宁县', '景泰县'],
          '天水': ['秦州区', '麦积区', '清水县', '秦安县', '甘谷县', '武山县'],
          '武威': ['凉州区', '民勤县', '古浪县', '天祝藏族自治县']
        },
        '青海': {
          '西宁': ['城中区', '城东区', '城西区', '城北区', '大通回族土族自治县', '湟源县', '湟中县'],
          '海东': ['乐都区', '平安区', '民和回族土族自治县', '互助土族自治县', '化隆回族自治县', '循化撒拉族自治县'],
          '黄南': ['同仁县', '尖扎县', '泽库县', '河南蒙古族自治县'],
          '海西': ['都兰县', '乌兰县', '茫崖市', '冷湖行政委员会']
        },
        '宁夏': {
          '银川': ['兴庆区', '西夏区', '金凤区', '永宁县', '贺兰县', '灵武市'],
          '石嘴山': ['大武口区', '惠农区', '平罗县'],
          '吴忠': ['利通区', '红寺堡区', '同心县', '盐池县'],
          '固原': ['原州区', '西吉县', '隆德县', '泾源县'],
          '中卫': ['沙坡头区', '中宁县', '海原县']
        },
        '新疆': {
          '乌鲁木齐': ['天山区', '沙依巴克区', '新市区', '水磨沟区', '头屯河区', '东山区', '达坂城区', '米东区', '乌鲁木齐县'],
          '克拉玛依': ['独山子区', '克拉玛依区', '白碱滩区', '乌尔禾区'],
          '吐鲁番': ['高昌区', '鄯善县', '托克逊县'],
          '哈密': ['伊州区', '巴里坤哈萨克自治县', '伊吾县'],
          '昌吉': ['昌吉市', '阜康市', '呼图壁县', '玛纳斯县', '奇台县', '吉木萨尔县', '木垒哈萨克自治县']
        },
        '西藏': {
          '拉萨': ['城关区', '堆龙德庆区', '林周县', '当雄县', '尼木县', '曲水县'],
          '山南': ['乃东区', '扎囊县', '贡嘎县', '泽当镇', '加查县', '隆子县', '错那县', '浪卡子县'],
          '日喀则': ['桑珠孜区', '南木林县', '江孜县', '白朗县', '谢通门县', '拉孜县', '萨迦县', '聂拉木县', '定日县', '定结县', '仲巴县'],
          '林芝': ['巴宜区', '工布江达县', '米林县', '墨脱县', '波密县', '朗县']
        },
        '内蒙古': {
          '呼和浩特': ['新城区', '回民区', '玉泉区', '赛罕区', '托克托县', '和林格尔县', '清水河县', '武川县'],
          '包头': ['东河区', '昆都仑区', '青山区', '石拐区', '白云矿区', '九原区', '土默特右旗'],
          '乌海': ['海勃湾区', '海南区', '乌达区'],
          '赤峰': ['红山区', '元宝山区', '松山区', '阿鲁科尔沁旗', '巴林左旗', '巴林右旗', '林西县', '克什克腾旗', '翁牛特旗', '喀喇沁旗', '宁城县', '敖汉旗']
        },
        '吉林': {
          '长春': ['南关区', '宽城区', '朝阳区', '二道区', '绿园区', '双阳区', '九台区', '榆树市', '德惠市', '农安县'],
          '吉林': ['船营区', '龙潭区', '昌邑区', '丰满区', '永吉县', '蛟河市', '桦甸市', '舒兰市', '磐石市'],
          '四平': ['铁西区', '铁东区', '梨树县', '伊通满族自治县', '公主岭市'],
          '辽源': ['龙山区', '西安区', '东丰县', '东辽县'],
          '通化': ['东昌区', '二道江区', '辉南县', '柳河县', '通化县', '梅河口市', '集安市']
        },
        '黑龙江': {
          '哈尔滨': ['道里区', '南岗区', '道外区', '平房区', '松北区', '香坊区', '呼兰区', '阿城区', '双城区', '五常市', '尚志市', '依兰县', '方正县', '宾县', '巴彦县', '木兰县'],
          '齐齐哈尔': ['龙沙区', '建华区', '铁锋区', '昂昂溪区', '富裕县', '克山县', '克东县', '依安县', '讷河市'],
          '鸡西': ['鸡冠区', '恒山区', '滴道区', '梨树区', '城子河区', '麻山区', '虎林市', '密山市'],
          '鹤岗': ['向阳区', '工农区', '南山区', '兴山区', '东山区', '萝北县', '绥滨县'],
          '双鸭山': ['尖山区', '岭东区', '四方台区', '宝清县', '友谊县']
        },
        '辽宁': {
          '沈阳': ['和平区', '沈河区', '大东区', '皇姑区', '铁西区', '苏家屯区', '浑南区', '沈北新区', '于洪区', '辽中区', '康平县', '法库县', '新民市'],
          '大连': ['中山区', '西岗区', '沙河口区', '甘井子区', '旅顺口区', '金州区', '普兰店区', '瓦房店市', '庄河市'],
          '鞍山': ['铁东区', '铁西区', '立山区', '千山区', '海城市', '台安县', '岫岩满族自治县'],
          '抚顺': ['望花区', '顺城区', '东洲区', '西洲区', '抚顺县', '新宾满族自治县', '清原满族自治县'],
          '本溪': ['平山区', '溪湖区', '明山区', '南芬区', '本溪满族自治县', '桓仁满族自治县']
        },
        '天津': {
          '天津市': ['和平区', '河东区', '河西区', '南开区', '河北区', '红桥区', '滨海新区', '东丽区', '西青区', '津南区', '北辰区', '武清区', '宝坻区', '宁河区', '静海区', '蓟州区']
        },
        '河北': {
          '石家庄': ['长安区', '裕华区', '新华区', '井陉矿区', '栾城区', '正定县', '平山县', '元氏县', '赵县', '辛集市', '藁城市', '晋州市', '新乐市'],
          '唐山': ['路南区', '路北区', '古冶区', '开平区', '丰南区', '丰润区', '曹妃甸区', '遵化市', '迁安市', '滦南县', '乐亭县', '迁西县'],
          '秦皇岛': ['海港区', '山海关区', '北戴河区', '抚宁区', '卢龙县'],
          '邯郸': ['邯山区', '复兴区', '峰峰矿区', '肥乡区', '永年区', '临漳县', '成安县', '大名县', '涉县', '磁县', '武安市'],
          '邢台': ['桥东区', '桥西区', '邢台县', '临城县', '内丘县', '柏乡县', '隆尧县', '任县', '南和县', '宁晋县', '巨鹿县', '新河县', '广宗县', '威县', '清河县', '沙河市']
        },
        '台湾': {
          '台北市': ['中正区', '大同区', '中山区', '松山区', '大安区', '万华区', '信义区', '士林区', '北投区', '内湖区', '南港区', '文山区'],
          '新北市': ['板桥区', '三重区', '中和区', '永和区', '新莊区', '五股区', '泰山区', '林口区', '深坑区', '汐止区', '平溪区', '贡寮区', '双溪区', '新店区'],
          '台中市': ['中区', '东区', '西区', '南区', '北区', '北屯区', '西屯区', '南屯区', '太平区', '大里区', '雾峰区', '乌日区', '大肚区', '龙井区'],
          '台南市': ['中西区', '东区', '南区', '北区', '安平区', '安南区', '永康区', '归仁区', '新化区', '左镇区', '玉井区', '楠西区', '南化区', '仁德区', '关庙区'],
          '高雄市': ['新兴区', '前金区', '苓雅区', '盐埕区', '鼓山区', '旗津区', '前镇区', '小港区', '左营区', '楠梓区', '三民区', '仁武区', '大社区', '冈山区', '橋头區', '燕巢区']
        },
        '香港': {
          '香港': ['中西区', '湾仔区', '东区', '南区', '油尖旺区', '深水埗区', '九龙城区', '黄大仙区', '观塘区', '屯门区', '荃湾区', '葵青区', '离岛区', '北区', '大埔区', '沙田区', '西贡区', '东莞区']
        },
        '澳门': {
          '澳门': ['花地玛堂区', '圣安多尼堂区', '大堂区', '望德堂区', '风顺堂区', '嘉模堂区', '圣方济各堂区']
        },
        '韩国': {
          '首尔': ['江南区', '江东区', '江西区', '广津区', '城东区', '종로구', '中区', '龙山区', '恩平区', '麻浦区', '西大门区', '城北区', '强北区'],
          '釜山': ['中区', '西区', '东区', '南区', '北区', '강서구', '연제구', '수영구', '해운대구', '금정구', '부산진구'],
          '大邱': ['中区', '东区', '西区', '南区', '北区', '台北区', '山区'],
          '大田': ['中区', '东区', '西区', '南区', '北区'],
          '仁川': ['中区', '东区', '南区', '北区', '강화군']
        },
        '日本': {
          '东京': ['千代田区', '中央区', '港区', '新宿区', '涩谷区', '品川区', '目黑区', '大田区', '世田谷区', '渋谷区', '中野区', '杉並区', '豊島区', '北区', '荒川区', '台東区', '墨田区', '江東区', '江戸川区'],
          '大阪': ['北区', '中央区', '城东区', '鹤见区', '福岛区', '此花区', '港区', '大正区', '东淀川区', '淀川区', '東成区', '生野区', '旭区', '城北区', '阿倍野区', '住吉区', '东住吉区', '西成区'],
          '京都': ['北区', '上京区', '左京区', '中京区', '东山区', '下京区', '南区', '右京区', '伏見区', '山科区', '西京区'],
          '福冈': ['东区', '博多区', '中央区', '南区', '城南区', '早良区', '西区'],
          '横滨': ['鶴見区', '神奈川区', '西区', '中区', '南区', '港南区', '保土ケ谷区', '旭区', '磯子区', '金泽区', '栄区', '泉区', '瀬谷区', '戶塚区']
        }
      }
    };

    // 更新省份
    function updateProvinces() {
      const country = document.getElementById('customerCountry').value;
      const provinceSelect = document.getElementById('customerProvince');
      
      provinceSelect.innerHTML = '<option value="">-- 选择省份 --</option>';
      
      if (country && addressData[country]) {
        Object.keys(addressData[country]).forEach(province => {
          const option = document.createElement('option');
          option.value = province;
          option.textContent = province;
          provinceSelect.appendChild(option);
        });
      }
      
      document.getElementById('customerCity').innerHTML = '<option value="">-- 请先选择省份 --</option>';
      document.getElementById('customerDistrict').innerHTML = '<option value="">-- 请先选择城市 --</option>';
    }

    // 更新城市
    function updateCities() {
      const country = document.getElementById('customerCountry').value;
      const province = document.getElementById('customerProvince').value;
      const citySelect = document.getElementById('customerCity');
      
      citySelect.innerHTML = '<option value="">-- 选择城市 --</option>';
      
      if (country && province && addressData[country][province]) {
        Object.keys(addressData[country][province]).forEach(city => {
          const option = document.createElement('option');
          option.value = city;
          option.textContent = city;
          citySelect.appendChild(option);
        });
      }
      
      document.getElementById('customerDistrict').innerHTML = '<option value="">-- 请先选择城市 --</option>';
    }

    // 更新区县
    function updateDistricts() {
      const country = document.getElementById('customerCountry').value;
      const province = document.getElementById('customerProvince').value;
      const city = document.getElementById('customerCity').value;
      const districtSelect = document.getElementById('customerDistrict');
      
      districtSelect.innerHTML = '<option value="">-- 选择区县 --</option>';
      
      if (country && province && city && addressData[country][province][city]) {
        addressData[country][province][city].forEach(district => {
          const option = document.createElement('option');
          option.value = district;
          option.textContent = district;
          districtSelect.appendChild(option);
        });
      }
    }

    // 获取完整地址
    function getFullAddress() {
      const country = document.getElementById('customerCountry').value;
      const province = document.getElementById('customerProvince').value;
      const city = document.getElementById('customerCity').value;
      const district = document.getElementById('customerDistrict').value;
      const street = document.getElementById('customerStreet').value;
      
      return `${country} ${province} ${city} ${district} ${street}`;
    }

    // 获取表单数据
    function getFormData() {
      const paymentRadio = document.querySelector('input[name="payment"]:checked');
      return {
        name: document.getElementById('customerName').value,
        phone: document.getElementById('customerPhone').value,
        address: getFullAddress(),
        postal: document.getElementById('customerPostal').value,
        payment: paymentRadio ? paymentRadio.value : ''
      };
    }
    
    // 验证表单
    function validateForm() {
      const country = document.getElementById('customerCountry').value;
      const province = document.getElementById('customerProvince').value;
      const city = document.getElementById('customerCity').value;
      const district = document.getElementById('customerDistrict').value;
      const street = document.getElementById('customerStreet').value;
      const data = getFormData();
      
      if (!data.name || !data.phone || !country || !province || !city || !district || !street || !data.payment) {
        alert('请填写完整的订单信息和选择付款方式');
        return false;
      }
      return true;
    }
    
    // 加入购物车
    function addToCart() {
      if (validateForm()) {
        const cart = JSON.parse(localStorage.getItem('splurgeVisionCart') || '[]');
        const styleNames = { 'brown': '棕色框款式', 'frameless': '无框款式', 'orange': '橙色腿款式' };
        const currentStyleName = styleNames[currentStyle] || '棕色框款式';
        const itemId = 'classic-' + currentStyle;
        const mainImg = document.getElementById('mainImage').src;
        
        const existing = cart.find(item => item.id === itemId);
        if (existing) {
          existing.qty += 1;
        } else {
          cart.push({
            id: itemId,
            name: '经典系列眼镜 - ' + currentStyleName,
            desc: currentStyleName,
            price: 999,
            image: mainImg,
            qty: 1
          });
        }
        localStorage.setItem('splurgeVisionCart', JSON.stringify(cart));
        alert(`✓ 已将经典系列（${currentStyleName}）加入购物车`);
      }
    }
    
    // 立即购买
    function checkout() {
      if (validateForm()) {
        const data = getFormData();
        const lang = document.body.getAttribute('data-lang') || 'zh';
        const paymentMap = {
          'wechat': '微信支付',
          'alipay': '支付宝',
          'credit': '信用卡',
          'debit': '储蓄卡',
          'paypal': 'PayPal'
        };
        const paymentMapEn = {
          'wechat': 'WeChat Pay',
          'alipay': 'Alipay',
          'credit': 'Credit Card',
          'debit': 'Debit Card',
          'paypal': 'PayPal'
        };
        if (lang === 'zh') {
          alert(`✓ 订单确认\n\n姓名: ${data.name}\n电话: ${data.phone}\n地址: ${data.address}\n邮编: ${data.postal || '未填写'}\n付款方式: ${paymentMap[data.payment]}\n\n商品: 经典系列眼镜\n价格: ¥999\n\n即将跳转到支付页面...`);
        } else {
          alert(`✓ Order Confirmed\n\nName: ${data.name}\nPhone: ${data.phone}\nAddress: ${data.address}\nPostal Code: ${data.postal || 'Not provided'}\nPayment Method: ${paymentMapEn[data.payment]}\n\nProduct: Classic Collection Glasses\nPrice: ¥999\n\nRedirecting to payment page...`);
        }
      }
    }
    
    // 语言切换
    const translations = {
      zh: {
        backBtn: '← 返回',
        productName: '经典系列眼镜',
        desc1: '经典的执著和考量<br><br>',
        desc2: '我们的经典系列眼镜采用高质量的醋酸纤维材料，完美融合传统工艺与现代设计。每一副眼镜都经过精心打磨，确保最舒适的佩戴体验。',
        featuresList: '✓ 高质量醋酸纤维材料<br>\n          ✓ 手工打磨工艺<br>\n          ✓ 舒适度最优化<br>\n          ✓ 经久耐用',
        labelName: '姓名 *',
        placeholderName: '请输入姓名',
        labelPhone: '电话 *',
        placeholderPhone: '请输入电话号码',
        labelCountry: '国家 *',
        placeholderCountry: '-- 选择国家 --',
        labelProvince: '省份 *',
        placeholderProvince: '-- 请先选择国家 --',
        labelCity: '城市 *',
        placeholderCity: '-- 请先选择省份 --',
        labelDistrict: '区县 *',
        placeholderDistrict: '-- 请先选择城市 --',
        labelStreet: '街道地址 *',
        placeholderStreet: '请输入详细街道地址',
        labelPostal: '邮编',
        placeholderPostal: '请输入邮编代码',
        labelPayment: '付款方式 *',
        btnCart: '♥ 加入购物车',
        btnBuy: '立即购买',
        alertCart: '✓ 已加入购物车\n\n姓名: {name}\n电话: {phone}\n地址: {address}\n邮编: {postal}\n\n您可以继续购物或前往购物车结算',
        alertCheckout: '✓ 订单确认\n\n姓名: {name}\n电话: {phone}\n地址: {address}\n邮编: {postal}\n\n商品: 经典系列眼镜\n价格: ¥999\n\n即将跳转到支付页面...'
      },
      en: {
        backBtn: '← Back',
        productName: 'Classic Collection Glasses',
        desc1: 'The Pursuit of Classic Elegance<br><br>',
        desc2: 'Our Classic Collection glasses are crafted from premium acetate fiber, perfectly blending traditional craftsmanship with modern design. Each pair is carefully hand-polished to ensure the ultimate comfort in wearing.',
        featuresList: '✓ Premium acetate fiber material<br>\n          ✓ Hand-polished craftsmanship<br>\n          ✓ Optimized comfort<br>\n          ✓ Durable and long-lasting',
        labelName: 'Name *',
        placeholderName: 'Please enter your name',
        labelPhone: 'Phone *',
        placeholderPhone: 'Please enter phone number',
        labelCountry: 'Country *',
        placeholderCountry: '-- Select Country --',
        labelProvince: 'Province *',
        placeholderProvince: '-- Please select country first --',
        labelCity: 'City *',
        placeholderCity: '-- Please select province first --',
        labelDistrict: 'District *',
        placeholderDistrict: '-- Please select city first --',
        labelStreet: 'Street Address *',
        placeholderStreet: 'Please enter detailed street address',
        labelPostal: 'Postal Code',
        placeholderPostal: 'Please enter postal code',
        labelPayment: 'Payment Method *',
        btnCart: '♥ Add to Cart',
        btnBuy: 'Buy Now',
        alertCart: '✓ Added to Cart\n\nName: {name}\nPhone: {phone}\nAddress: {address}\nPostal Code: {postal}\n\nYou can continue shopping or proceed to checkout',
        alertCheckout: '✓ Order Confirmed\n\nName: {name}\nPhone: {phone}\nAddress: {address}\nPostal Code: {postal}\n\nProduct: Classic Collection Glasses\nPrice: ¥999\n\nRedirecting to payment page...'
      }
    };
    
    function switchLanguage(lang) {
      // 保存语言选择
      document.body.setAttribute('data-lang', lang);
      localStorage.setItem('siteLanguage', lang);
      
      // 更新按钮状态
      document.getElementById('langZh').classList.toggle('active', lang === 'zh');
      document.getElementById('langEn').classList.toggle('active', lang === 'en');
      
      // 获取翻译内容
      const t = translations[lang];
      
      // 更新文本内容
      document.getElementById('backBtn').innerHTML = t.backBtn;
      document.getElementById('productName').textContent = t.productName;
      document.getElementById('desc1').innerHTML = t.desc1;
      document.getElementById('desc2').textContent = t.desc2;
      document.getElementById('featuresList').innerHTML = t.featuresList;
      
      // 更新表单标签
      document.getElementById('labelName').textContent = t.labelName;
      document.getElementById('customerName').placeholder = t.placeholderName;
      
      document.getElementById('labelPhone').textContent = t.labelPhone;
      document.getElementById('customerPhone').placeholder = t.placeholderPhone;
      
      document.getElementById('labelCountry').textContent = t.labelCountry;
      document.getElementById('customerCountry').options[0].text = t.placeholderCountry;
      
      document.getElementById('labelProvince').textContent = t.labelProvince;
      document.getElementById('customerProvince').options[0].text = t.placeholderProvince;
      
      document.getElementById('labelCity').textContent = t.labelCity;
      document.getElementById('customerCity').options[0].text = t.placeholderCity;
      
      document.getElementById('labelDistrict').textContent = t.labelDistrict;
      document.getElementById('customerDistrict').options[0].text = t.placeholderDistrict;
      
      document.getElementById('labelStreet').textContent = t.labelStreet;
      document.getElementById('customerStreet').placeholder = t.placeholderStreet;
      
      document.getElementById('labelPostal').textContent = t.labelPostal;
      document.getElementById('customerPostal').placeholder = t.placeholderPostal;
      
      document.getElementById('labelPayment').textContent = t.labelPayment;
      
      // 更新按钮文本
      document.getElementById('btnCart').textContent = t.btnCart;
      document.getElementById('btnBuy').textContent = t.btnBuy;
    }
    
    // 页面加载时，检查保存的语言偏好，默认中文
    window.addEventListener('DOMContentLoaded', function() {
      const savedLang = localStorage.getItem('siteLanguage') || 'zh';
      switchLanguage(savedLang);
    });
    
    // 客服功能
    function toggleServicePanel() {
      const panel = document.getElementById('servicePanel');
      panel.classList.toggle('active');
    }
    
    function initiateContact(type) {
      const lang = document.body.getAttribute('data-lang') || 'zh';
      if (type === 'wechat') {
        alert(lang === 'zh' ? '请添加微信客服：SplurgeVision_Service' : 'Please add WeChat: SplurgeVision_Service');
      } else if (type === 'email') {
        window.location.href = 'mailto:service@splurgevision.com';
      }
    }
    
    // 服务中心多语言
    const serviceTranslations = {
      zh: {
        serviceTitle: '客服中心',
        serviceHourLabel: '营业时间',
        serviceHour: '周一至周五 09:00-18:00\n周六日 10:00-16:00',
        serviceWechatLabel: '微信客服',
        serviceWechat: 'SplurgeVision_Service',
        serviceQQLabel: 'QQ客服',
        serviceQQ: '800-888-6666',
        serviceEmailLabel: '邮箱',
        serviceEmail: 'service@splurgevision.com',
        serviceCallBtn: '💬 微信',
        serviceEmailBtn: '✉️ 邮件'
      },
      en: {
        serviceTitle: 'Customer Service',
        serviceHourLabel: 'Business Hours',
        serviceHour: 'Mon-Fri: 09:00-18:00\nSat-Sun: 10:00-16:00',
        serviceWechatLabel: 'WeChat',
        serviceWechat: 'SplurgeVision_Service',
        serviceQQLabel: 'QQ',
        serviceQQ: '800-888-6666',
        serviceEmailLabel: 'Email',
        serviceEmail: 'service@splurgevision.com',
        serviceCallBtn: '💬 WeChat',
        serviceEmailBtn: '✉️ Email'
      }
    };
    
    // 切换主图
    function changeMainImage(imageSrc) {
      const mainImage = document.getElementById('mainImage');
      mainImage.style.opacity = '0';
      setTimeout(() => {
        mainImage.src = imageSrc;
        mainImage.style.opacity = '1';
      }, 200);
      
      // 更新当前款式内的缩略图边框
      const currentGallery = document.querySelector('[id$="Gallery"][style*="display: grid"]');
      if (currentGallery) {
        const thumbnails = currentGallery.querySelectorAll('img');
        thumbnails.forEach(thumb => {
          if (thumb.src.includes(imageSrc.split('/').pop())) {
            thumb.style.borderColor = '#9BA89C';
          } else {
            thumb.style.borderColor = 'transparent';
          }
        });
      }
    }
    
    // 切换款式
    let currentStyle = 'brown';
    function switchStyle(styleName) {
      currentStyle = styleName;
      // 隐藏所有画廊
      document.getElementById('brownGallery').style.display = 'none';
      document.getElementById('framelessGallery').style.display = 'none';
      document.getElementById('orangeGallery').style.display = 'none';
      
      // 重置所有按钮样式
      const buttons = document.querySelectorAll('[id^="style"]');
      buttons.forEach(btn => {
        btn.style.background = 'rgba(155, 168, 156, 0.2)';
        btn.style.color = '#6B7B6D';
        btn.style.border = '2px solid #9BA89C';
      });
      
      // 显示选中的画廊并更新按钮样式
      let firstImage = '';
      if (styleName === 'brown') {
        document.getElementById('brownGallery').style.display = 'grid';
        document.getElementById('styleBrown').style.background = 'linear-gradient(135deg, #9BA89C 0%, #8B9A8C 100%)';
        document.getElementById('styleBrown').style.color = 'white';
        document.getElementById('styleBrown').style.border = 'none';
        firstImage = 'classic-detail.jpg';
      } else if (styleName === 'frameless') {
        document.getElementById('framelessGallery').style.display = 'grid';
        document.getElementById('styleFrameless').style.background = 'linear-gradient(135deg, #9BA89C 0%, #8B9A8C 100%)';
        document.getElementById('styleFrameless').style.color = 'white';
        document.getElementById('styleFrameless').style.border = 'none';
        firstImage = '2ca4b493b8335ce4147546c5855b46f9.jpg';
      } else if (styleName === 'orange') {
        document.getElementById('orangeGallery').style.display = 'grid';
        document.getElementById('styleOrange').style.background = 'linear-gradient(135deg, #9BA89C 0%, #8B9A8C 100%)';
        document.getElementById('styleOrange').style.color = 'white';
        document.getElementById('styleOrange').style.border = 'none';
        firstImage = '6f5eb4fea81731062d3e3fd470374eb8.jpg';
      }
      
      // 切换主图
      changeMainImage(firstImage);
    }
    
    // 监听语言切换，更新客服中心文本
    const originalSwitchLanguage = switchLanguage;
    switchLanguage = function(lang) {
      originalSwitchLanguage(lang);
      
      const s = serviceTranslations[lang];
      document.getElementById('serviceTitle').textContent = s.serviceTitle;
      document.getElementById('serviceHourLabel').textContent = s.serviceHourLabel;
      document.getElementById('serviceHour').textContent = s.serviceHour;
      document.getElementById('serviceWechatLabel').textContent = s.serviceWechatLabel;
      document.getElementById('serviceWechat').textContent = s.serviceWechat;
      document.getElementById('serviceQQLabel').textContent = s.serviceQQLabel;
      document.getElementById('serviceQQ').textContent = s.serviceQQ;
      document.getElementById('serviceEmailLabel').textContent = s.serviceEmailLabel;
      document.getElementById('serviceEmail').textContent = s.serviceEmail;
      document.getElementById('serviceCallBtn').textContent = s.serviceCallBtn;
      document.getElementById('serviceEmailBtn').textContent = s.serviceEmailBtn;
    };
  </script>
</body>
</html>
